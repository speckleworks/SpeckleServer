{"version":3,"sources":["webpack:///./src/views/StreamHistory.vue?f3ed","webpack:///src/views/StreamHistory.vue","webpack:///./src/views/StreamHistory.vue?7b1f","webpack:///./src/views/StreamHistory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","stream","_v","parent","_s","_e","children","length","streamChildren","_l","index","key","streamId","hexFromString","class","nativeOn","$event","$router","push","getDate","createdAt","getTime","updatedAt","private","name","allTags","on","updateTags","tags","scopedSlots","_u","fn","proxy","model","value","callback","$$v","$set","expression","commitMessage","ref","_g","diffResult","data","objects","inA","inB","staticStyle","common","staticRenderFns","components","VueSlider","watch","fetchData","computed","$store","getters","sizeBound","slice","state","streams","find","canEdit","isOwner","canWrite","indexOf","owner","user","_id","parentStream","methods","date","toLocaleString","dispatch","sliderChanged","console","log","lowerIndex","ind","upperIndex","map","mounted","component"],"mappings":"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","file":"js/chunk-2d0d9f44.1e1b50e4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[(_vm.stream.parent)?_c('v-toolbar',{staticClass:\"elevation-0 transparent\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"home\")]),_vm._v(\" \\n        \"),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n          Parent stream: \"),_c('router-link',{attrs:{\"to\":\"/streams/\" + _vm.stream.parent}},[_vm._v(_vm._s(_vm.stream.parent))])],1)],1):_vm._e(),_c('v-toolbar',{staticClass:\"elevation-0 transparent\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"history\")]),_vm._v(\" \\n        \"),(_vm.stream.children.length>0)?_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n          Showing max 30 versions (total: \"+_vm._s(_vm.streamChildren.length)+\" versions).\\n        \")]):_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n          This stream has no history.\\n        \")])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"pa-3\":\"\"}},[_c('v-timeline',{attrs:{\"clipped\":\"\",\"dense\":\"\"}},_vm._l((_vm.sizeBound),function(stream,index){return _c('v-timeline-item',{key:stream.streamId,attrs:{\"small\":\"\",\"color\":_vm.hexFromString(stream.streamId)}},[_c('div',{class:((index===0 ? \"elevation-5\" : \"elevation-0\") + \" py-3 px-4\")},[_c('v-btn',{attrs:{\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.$router.push((\"/view/\" + (stream.streamId)))}}},[_c('v-icon',[_vm._v(\"360\")])],1),(index===0)?_c('span',{class:(\"headline font-weight-bold \" + (_vm.hexFromString(stream.streamId)) + \"--text\")},[_vm._v(\"\\n                  Latest\\n                \")]):_c('span',{class:(\"headline \" + (index===0 ? 'font-weight-bold' : '') + \" \" + (_vm.hexFromString(stream.streamId)) + \"--text\")},[_vm._v(\"\\n                  \"+_vm._s(_vm.getDate(stream.createdAt))+\" \"+_vm._s(_vm.getTime(stream.createdAt))+\"\\n                \")]),_c('timeago',{attrs:{\"datetime\":stream.updatedAt}}),_c('p',{class:(\"xxxheadline font-weight-light mb-3 \" + (_vm.hexFromString(stream.streamId)) + \"--text\")},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(stream.private ? \"lock\" : \"lock_open\"))]),_vm._v(\"  \\n                  \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_vm._v(\" \"+_vm._s(stream.streamId)+\"\\n                  \"),_c('span',{staticClass:\"text-capitalize font-weight-bold\"},[_vm._v(_vm._s(stream.name))])],1),_c('div',[_c('v-combobox',{attrs:{\"items\":_vm.allTags,\"hint\":\"tags\",\"solo\":\"\",\"persistent-hint\":\"\",\"small-chips\":\"\",\"deletable-chips\":\"\",\"multiple\":\"\",\"tags\":\"\"},on:{\"input\":function($event){return _vm.updateTags({tags: stream.tags, streamId: stream.streamId})}},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_c('p',[_vm._v(\"Add a new tag!\")])]},proxy:true}],null,true),model:{value:(stream.tags),callback:function ($$v) {_vm.$set(stream, \"tags\", $$v)},expression:\"stream.tags\"}}),_vm._v(\"\\n                  \"+_vm._s(stream.commitMessage ? stream.commitMessage : \"No commit message.\")+\"\\n                \")],1),_c('v-divider',{staticClass:\"my-3\"}),(stream.diffResult)?_c('div',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"green--text\"},on),[_c('v-icon',{staticClass:\"green--text\",attrs:{\"small\":\"\"}},[_vm._v(\"add_circle_outline\")]),_c('b',[_vm._v(\" \"+_vm._s(stream.diffResult.data.objects.inA.length))])],1),_vm._v(\"  \\n                    \")]}}],null,true)},[_c('span',[_vm._v(\"Added objects\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"red--text\"},on),[_c('v-icon',{staticClass:\"red--text\",attrs:{\"small\":\"\"}},[_vm._v(\"remove_circle_outline\")]),_c('b',[_vm._v(\" \"+_vm._s(stream.diffResult.data.objects.inB.length))])],1),_vm._v(\"  \\n                    \")]}}],null,true)},[_c('span',[_vm._v(\"Removed objects\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({},on),[_c('b',[_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(\"∩\")]),_vm._v(\" \"+_vm._s(stream.diffResult.data.objects.common.length))])]),_vm._v(\"  \\n                    \")]}}],null,true)},[_c('span',[_vm._v(\"Common objects\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"grey--text\"},on),[_c('b',[_vm._v(\"Σ \"+_vm._s(stream.diffResult.data.objects.inA.length + stream.diffResult.data.objects.common.length))])])]}}],null,true)},[_c('span',[_vm._v(\"Total object count\")])])],1):_vm._e()],1)])}),1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap>\n    <v-flex xs12>\n      <v-card class='elevation-0'>\n        <v-toolbar class='elevation-0 transparent' v-if='stream.parent'>\n          <v-icon small left>home</v-icon>&nbsp;\n          <span class=\"title font-weight-light\">\n            Parent stream: <router-link :to='\"/streams/\" + stream.parent'>{{stream.parent}}</router-link>\n          </span>\n        </v-toolbar>\n        <v-toolbar class='elevation-0 transparent'>\n          <v-icon small left>history</v-icon>&nbsp;\n          <span class='title font-weight-light' v-if='stream.children.length>0'>\n            Showing max 30 versions (total: {{streamChildren.length}} versions).\n          </span>\n          <span class='title font-weight-light' v-else>\n            This stream has no history.\n          </span>\n        </v-toolbar>\n        <v-layout row wrap>\n          <v-flex xs12 pa-3>\n            <v-timeline clipped dense>\n              <v-timeline-item v-for=\"(stream, index) in sizeBound\" :key=\"stream.streamId\" small :color=\"hexFromString(stream.streamId)\">\n                <div :class='`${index===0 ? \"elevation-5\" : \"elevation-0\"} py-3 px-4`'>\n                  <v-btn icon @click.native='$router.push(`/view/${stream.streamId}`)'>\n                    <v-icon>360</v-icon>\n                  </v-btn>\n                  <span :class=\"`headline font-weight-bold ${hexFromString(stream.streamId)}--text`\" v-if='index===0'>\n                    Latest\n                  </span>\n                  <span :class=\"`headline ${index===0 ? 'font-weight-bold' : ''} ${hexFromString(stream.streamId)}--text`\" v-else>\n                    {{getDate(stream.createdAt)}} {{getTime(stream.createdAt)}}\n                  </span>\n                  <timeago :datetime='stream.updatedAt'></timeago>\n                  <p :class=\"`xxxheadline font-weight-light mb-3 ${hexFromString(stream.streamId)}--text`\">\n                    <v-icon small>{{stream.private ? \"lock\" : \"lock_open\"}}</v-icon> &nbsp;\n                    <v-icon small>fingerprint</v-icon> {{stream.streamId}}\n                    <span class='text-capitalize font-weight-bold'>{{stream.name}}</span>\n                  </p>\n                  <div>\n                    <v-combobox @input='updateTags({tags: stream.tags, streamId: stream.streamId})' v-model=\"stream.tags\" :items='allTags' hint='tags' solo persistent-hint small-chips deletable-chips multiple tags>\n                      <template v-slot:no-data>\n                        <p>Add a new tag!</p>\n                      </template>\n                    </v-combobox>\n                    {{stream.commitMessage ? stream.commitMessage : \"No commit message.\"}}\n                  </div>\n                  <v-divider class='my-3'></v-divider>\n                  <div v-if='stream.diffResult'>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <span class='green--text' v-on=\"on\">\n                          <v-icon small class='green--text'>add_circle_outline</v-icon><b> {{stream.diffResult.data.objects.inA.length}}</b>\n                        </span> &nbsp;\n                      </template>\n                      <span>Added objects</span>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <span class='red--text' v-on=\"on\">\n                          <v-icon small class='red--text'>remove_circle_outline</v-icon><b> {{stream.diffResult.data.objects.inB.length}}</b>\n                        </span> &nbsp;\n                      </template>\n                      <span>Removed objects</span>\n                    </v-tooltip>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <span class='' v-on=\"on\"><b><span style='font-size: 20px'>∩</span> {{stream.diffResult.data.objects.common.length}}</b></span> &nbsp;\n                      </template>\n                      <span>Common objects</span>\n                    </v-tooltip>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <span class='grey--text' v-on=\"on\"><b>Σ {{stream.diffResult.data.objects.inA.length + stream.diffResult.data.objects.common.length}}</b></span>\n                      </template>\n                      <span>Total object count</span>\n                    </v-tooltip>\n                  </div>\n                </div>\n              </v-timeline-item>\n            </v-timeline>\n          </v-flex>\n        </v-layout>\n      </v-card>\n    </v-flex>\n  </v-layout>\n</template>\n<script>\nimport Axios from 'axios'\nimport debounce from 'lodash.debounce'\nimport union from 'lodash.union'\n\nimport VueSlider from 'vue-slider-component'\nexport default {\n  name: 'StreamHistory',\n  components: {\n    VueSlider\n  },\n  watch: {\n    'stream.children'( ) {\n      this.fetchData( )\n    }\n  },\n  computed: {\n    allTags( ) {\n      return this.$store.getters.allTags\n    },\n    sizeBound( ) {\n      return this.streamChildren.slice( 0, 30 )\n    },\n    stream( ) {\n      return this.$store.state.streams.find( s => s.streamId === this.$route.params.streamId )\n    },\n    canEdit( ) {\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\n    },\n    isOwner( ) {\n      return this.stream.owner === this.$store.state.user._id\n    }\n  },\n  data( ) {\n    return {\n      parentStream: null,\n      streamChildren: [ ],\n    }\n  },\n  methods: {\n    getDate( dateeee ) {\n      let date = new Date( dateeee )\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\n    },\n    getTime( dateeee ) {\n      let date = new Date( dateeee )\n      return date.toLocaleString( 'en', { timeStyle: \"short\" } )\n    },\n    updateTags: debounce( function ( e ) {\n      this.$store.dispatch( 'updateStream', { streamId: e.streamId, tags: e.tags } )\n    }, 500 ),\n\n    sliderChanged( args ) {\n      console.log( args )\n      let ind = this.$refs.timeSlider.getIndex( )\n      this.lowerIndex = ind[ 0 ]\n      this.upperIndex = ind[ 1 ]\n    },\n    fetchData( ) {\n      if ( !this.stream.children ) return\n      if ( this.stream.children.length === 0 ) return\n\n      this.stream.children.map( streamId => Axios.get( `streams/${streamId}?fields=streamId,updatedAt,createdAt,owner,tags,name,commitMessage,description` ) )\n        .reduce( ( promiseChain, currentTask ) => {\n          return promiseChain.then( chainResults => currentTask.then( currentResult => [ ...chainResults, currentResult.data.resource ] ) )\n        }, Promise.resolve( [ ] ) ).then( async arr => {\n\n          arr.forEach( s => s.diffResult = { data: { objects: { inA: [ ], common: [ ], inB: [ ] } } } )\n\n          this.streamChildren = arr\n          this.streamChildren.push( this.parentStream )\n          this.streamChildren = this.streamChildren.sort( ( a, b ) => new Date( b.updatedAt ) - new Date( a.updatedAt ) )\n          let stringRes = `${this.stream.streamId}\\n`\n\n          for ( let i = 0; i < this.streamChildren.length - 1; i++ ) {\n            let currStream = this.streamChildren[ i ]\n            let nextStream = this.streamChildren[ i + 1 ]\n            this.streamChildren[ i ].diffResult = await Axios.get( `streams/${currStream.streamId}/diff/${nextStream.streamId}` )\n            let stats = this.streamChildren[ i ].diffResult.data\n            stringRes += ` \\t${stats.objects.inA.length}\\t${stats.objects.inB.length}\\t${stats.objects.common.length}\\t${stats.objects.inA.length + stats.objects.common.length} \\n`\n          }\n          console.log( stringRes )\n        } )\n    }\n  },\n  mounted( ) {\n    console.log( 'hello data' )\n    this.parentStream = this.$store.state.streams.find( s => s.streamId === this.$route.params.streamId )\n    this.fetchData( this.$route.params.streamId )\n  }\n}\n\n</script>\n<style lang='scss'>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamHistory.vue?vue&type=template&id=0265eb67&\"\nimport script from \"./StreamHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}