{"version":3,"sources":["webpack:///./src/store/lambda/component/arupCompute.vue?dce4","webpack:///src/store/lambda/component/arupCompute.vue","webpack:///./src/store/lambda/component/arupCompute.vue?c95e","webpack:///./src/store/lambda/component/arupCompute.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","libraries","length","on","selectLibrary","scopedSlots","_u","key","fn","_v","_s","item","name","staticClass","api","model","value","params","callback","$$v","$set","expression","functions","selectFunction","_e","selectedLibrary","selectedFunction","_l","input","ref","_g","values","type","isInputByValue","isOptional","inputs","hasOwnProperty","$event","toggleInputSource","updateInput","description","$emit","staticRenderFns","components","props","block","Object","data","computed","token","$store","state","tokens","msal","clientId","methods","slice","baseURL","headers","Authorization","payload","valueData","pathData","outputPath","undefined","created","getLibraries","component"],"mappings":"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","file":"js/chunk-2d21ed68.a9718953.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"return-object\":\"\",\"items\":_vm.libraries,\"item-text\":\"name\",\"item-value\":\"api\",\"loading\":_vm.libraries.length === 0,\"label\":\"Select a library\"},on:{\"input\":_vm.selectLibrary},scopedSlots:_vm._u([{key:\"item\",fn:function(libraries){return [_c('div',[_vm._v(\"\\n          \"+_vm._s(libraries.item.name)+\"\\n          \"),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(\"\\n            \"+_vm._s(libraries.item.api)+\"\\n          \")])])]}}]),model:{value:(_vm.params.selectedLibrary),callback:function ($$v) {_vm.$set(_vm.params, \"selectedLibrary\", $$v)},expression:\"params.selectedLibrary\"}})],1),(_vm.params.selectedLibrary)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"return-object\":\"\",\"items\":_vm.functions,\"item-text\":\"name\",\"item-value\":\"api\",\"loading\":_vm.functions.length === 0,\"label\":\"Select a function\"},on:{\"input\":_vm.selectFunction},scopedSlots:_vm._u([{key:\"item\",fn:function(functions){return [_c('div',[_vm._v(\"\\n          \"+_vm._s(functions.item.name)+\"\\n          \"),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(\"\\n            \"+_vm._s(functions.item.api)+\"\\n          \")])])]}}],null,false,608326576),model:{value:(_vm.params.selectedFunction),callback:function ($$v) {_vm.$set(_vm.params, \"selectedFunction\", $$v)},expression:\"params.selectedFunction\"}})],1):_vm._e(),(_vm.params.selectedLibrary && _vm.params.selectedFunction && _vm.functions.length > 0)?_c('v-flex',{attrs:{\"mt-0\":\"\",\"xs12\":\"\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"\\n          Inputs\\n        \")])]),_c('v-divider'),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"pa-3\":\"\"}},_vm._l((_vm.params.selectedFunction.inputs),function(input){return _c('v-flex',{key:input.name,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({attrs:{\"ma-0\":\"\",\"pa-0\":\"\"}},on),[((input.values || input.type === 'System.Boolean') && _vm.isInputByValue(input.name))?_c('v-autocomplete',{attrs:{\"items\":input.values ? input.values : [true, false],\"label\":input.name,\"append-icon\":_vm.isInputByValue(input.name) ? 'edit' : 'input',\"hint\":_vm.isInputByValue(input.name) ? 'Input by value' : 'Input by object path',\"persistent-hint\":true,\"error-messages\":!input.isOptional && (!_vm.inputs.hasOwnProperty(input.name) || _vm.inputs[input.name] === null) ? ['Input required'] : ''},on:{\"click:append\":function($event){return _vm.toggleInputSource({name: input.name, value: $event})},\"change\":function($event){return _vm.updateInput({name: input.name, value: $event})}},model:{value:(_vm.inputs[input.name]),callback:function ($$v) {_vm.$set(_vm.inputs, input.name, $$v)},expression:\"inputs[input.name]\"}}):_c('v-text-field',{attrs:{\"label\":input.name,\"append-icon\":_vm.isInputByValue(input.name) ? 'edit' : 'input',\"hint\":_vm.isInputByValue(input.name) ? 'Input by value' : 'Input by object path',\"persistent-hint\":true,\"error-messages\":!input.isOptional && (!_vm.inputs.hasOwnProperty(input.name) || _vm.inputs[input.name] === null) ? 'Input required' : ''},on:{\"click:append\":function($event){return _vm.toggleInputSource({name: input.name, value: $event})},\"change\":function($event){return _vm.updateInput({name: input.name, value: $event})}},model:{value:(_vm.inputs[input.name]),callback:function ($$v) {_vm.$set(_vm.inputs, input.name, $$v)},expression:\"inputs[input.name]\"}})],1)]}}],null,true)},[_c('div',[_c('span',[_c('b',[_vm._v(\"Description:\")]),_vm._v(\" \"+_vm._s(input.description))]),_c('br'),_c('span',{staticClass:\"caption\"},[_c('b',[_vm._v(\"Type:\")]),_vm._v(\" \"+_vm._s(input.type))])])])],1)}),1),_c('v-divider'),_c('v-card-title',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"\\n          Output\\n        \")])]),_c('v-divider'),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Output path\",\"hint\":\"Object path to embed all results under\",\"persistent-hint\":true},on:{\"change\":function($event){return _vm.$emit('update-param', _vm.params)}},model:{value:(_vm.params.outputPath),callback:function ($$v) {_vm.$set(_vm.params, \"outputPath\", $$v)},expression:\"params.outputPath\"}})],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap>\n    <v-flex xs12>\n      <v-autocomplete\n        return-object\n        :items=\"libraries\"\n        item-text=\"name\"\n        item-value=\"api\"\n        v-model=\"params.selectedLibrary\"\n        v-on:input=\"selectLibrary\"\n        :loading=\"libraries.length === 0\"\n        label=\"Select a library\">\n        <template slot=\"item\" slot-scope=\"libraries\">\n          <div>\n            {{libraries.item.name}}\n            <br>\n            <span class=\"caption\">\n              {{libraries.item.api}}\n            </span>\n          </div>\n        </template>\n      </v-autocomplete>\n    </v-flex>\n\n    <v-flex xs12 v-if=\"params.selectedLibrary\">\n      <v-autocomplete\n        return-object\n        :items=\"functions\"\n        item-text=\"name\"\n        item-value=\"api\"\n        v-model=\"params.selectedFunction\"\n        v-on:input=\"selectFunction\"\n        :loading=\"functions.length === 0\"\n        label=\"Select a function\">\n        <template slot=\"item\" slot-scope=\"functions\">\n          <div>\n            {{functions.item.name}}\n            <br>\n            <span class=\"caption\">\n              {{functions.item.api}}\n            </span>\n          </div>\n        </template>\n      </v-autocomplete>\n    </v-flex>\n\n    <v-flex mt-0 v-if=\"params.selectedLibrary && params.selectedFunction && functions.length > 0\" xs12>\n      <v-card>\n        <v-card-title>\n          <span class='font-weight-light'>\n            Inputs\n          </span>\n        </v-card-title>\n        <v-divider/>\n        <v-layout row wrap pa-3>\n          <v-flex xs12 sm6 md3 v-for='input in params.selectedFunction.inputs' :key='input.name'>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{ on }\">\n                <div v-on=\"on\" ma-0 pa-0>\n                  <v-autocomplete\n                    v-if=\"(input.values || input.type === 'System.Boolean') && isInputByValue(input.name)\"\n                    :items=\"input.values ? input.values : [true, false]\"\n                    :label='input.name'\n                    v-model='inputs[input.name]'\n                    :append-icon=\"isInputByValue(input.name) ? 'edit' : 'input'\"\n                    :hint=\"isInputByValue(input.name) ? 'Input by value' : 'Input by object path'\"\n                    :persistent-hint=\"true\"\n                    :error-messages=\"!input.isOptional && (!inputs.hasOwnProperty(input.name) || inputs[input.name] === null) ? ['Input required'] : ''\"\n                    @click:append=\"toggleInputSource({name: input.name, value: $event})\"\n                    @change=\"updateInput({name: input.name, value: $event})\">\n                  </v-autocomplete> \n                  <v-text-field\n                    v-else\n                    :label='input.name'\n                    v-model='inputs[input.name]'\n                    :append-icon=\"isInputByValue(input.name) ? 'edit' : 'input'\"\n                    :hint=\"isInputByValue(input.name) ? 'Input by value' : 'Input by object path'\"\n                    :persistent-hint=\"true\"\n                    :error-messages=\"!input.isOptional && (!inputs.hasOwnProperty(input.name) || inputs[input.name] === null) ? 'Input required' : ''\"\n                    @click:append=\"toggleInputSource({name: input.name, value: $event})\"\n                    @change=\"updateInput({name: input.name, value: $event})\">\n                  </v-text-field>\n                </div>\n              </template>\n              <div>\n                <span><b>Description:</b> {{input.description}}</span>\n                <br>\n                <span class=\"caption\"><b>Type:</b> {{input.type}}</span>\n              </div>\n            </v-tooltip>\n          </v-flex>\n        </v-layout>\n        <v-divider/>\n        <v-card-title>\n          <span class='font-weight-light'>\n            Output\n          </span>\n        </v-card-title>\n        <v-divider/>\n        <v-flex xs12>\n          <v-text-field \n            label='Output path'\n            v-model='params.outputPath'\n            hint=\"Object path to embed all results under\"\n            :persistent-hint=\"true\"\n            @change=\"$emit('update-param', params)\">\n          </v-text-field>\n        </v-flex>\n      </v-card>\n    </v-flex>\n\n  </v-layout>\n</template>\n<script>\n\nimport Axios from 'axios'\nimport * as Msal from 'msal'\n\nexport default {\n  name: 'ArupCompute',\n  components: {\n  },\n  props: {\n    block: Object,\n    params: { },\n  },\n  data( ) {\n    return {\n      libraries: [ ],\n      functions: [ ],\n    }\n  },\n  computed: {\n    inputs () {\n      return Object.assign({ }, this.params.valueData, this.params.pathData)\n    },\n    token () {\n      return this.$store.state.tokens['msal|' + this.block.msal.clientId]\n    }\n  },\n  methods: {\n    selectLibrary ( payload ) {\n      this.functions.slice(0, this.functions.length)\n\n      Axios.get(`${payload.api}?flat=true`, {\n        baseURL: `https://compute.arup.digital/`,\n        headers: {\n          Authorization: 'Bearer ' + this.token\n        }\n      })\n      .then ( res =>{\n        this.functions = res.data\n        this.functions.sort((x, y) => (x.name.toLowerCase() > y.name.toLowerCase()) ? 1 : -1)\n\n        this.params.selectedLibrary = payload\n\n        if (this.params.selectedFunction)\n        {\n          if (this.functions.findIndex(x => x.api === this.params.selectedFunction.api) === -1)\n            this.params.selectedFunction = null\n        }\n\n        this.$emit('update-param', this.params)\n      })\n    },\n    selectFunction ( payload ) {\n      this.params.selectedFunction = payload\n\n      this.params.valueData = {}\n      this.params.pathData = {}\n      this.params.outputPath = ''\n\n      this.$emit('update-param', this.params)\n    },\n    isInputByValue ( paramName ) {\n      if (this.params.valueData)\n        if (this.params.valueData.hasOwnProperty(paramName))\n          return true\n\n      return false\n    },\n    toggleInputSource ( payload ) {\n      if (!this.params.pathData)\n        this.params.pathData = {}\n\n      if (!this.params.valueData)\n        this.params.valueData = {}\n        \n      if (this.isInputByValue(payload.name))\n      {\n        this.params.pathData[payload.name] = null\n        delete this.params.valueData[payload.name]\n      }\n      else\n      {\n        this.params.valueData[payload.name] = null\n        delete this.params.pathData[payload.name]\n      }\n\n      this.$emit('update-param', this.params)\n    },\n    updateInput ( payload ) {\n      if (payload.value === null || payload.value === '' || payload.value === undefined)\n        payload.value = null\n\n      if (!this.params.pathData)\n        this.params.pathData = {}\n\n      if (!this.params.valueData)\n        this.params.valueData = {}\n\n      if (this.isInputByValue(payload.name))\n        this.params.valueData[payload.name] = payload.value\n      else\n        this.params.pathData[payload.name] = payload.value\n        \n      this.$emit('update-param', this.params)\n    },\n    async getLibraries ( rerun = false ) {\n      Axios.get(`api`, {\n        baseURL: `https://compute.arup.digital/`,\n        headers: {\n          Authorization: 'Bearer ' + this.token\n        }\n      })\n      .then ( res =>{\n        this.libraries = res.data\n        this.libraries.sort((x, y) => (x.name.toLowerCase() > y.name.toLowerCase()) ? 1 : -1)\n        \n        if (this.params.selectedLibrary)\n          this.selectLibrary (this.params.selectedLibrary)\n      })\n      .catch (err => {\n        console.log(err)\n        if (err.response.status === 401 && !rerun)\n        {\n          this.$store.dispatch('authenticateBlocks', [ this.block ])\n          .then(res => {\n            this.getLibraries(true)\n          })\n        }\n        else\n        {\n          console.log('Unable to access ArupCompute')\n          this.$store.commit('DELETE_TOKEN', 'msal|' + this.block.msal.clientId)\n        }\n      })\n    }\n  },\n  created () {\n    this.getLibraries()\n  }\n}\n</script>\n<style scoped lang='scss'>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./arupCompute.vue?vue&type=template&id=6d154f9e&scoped=true&\"\nimport script from \"./arupCompute.vue?vue&type=script&lang=js&\"\nexport * from \"./arupCompute.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d154f9e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}