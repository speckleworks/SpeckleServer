(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cb6c3"],{"4a33":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs11:"",md6:"",lg6:""}},[!1===e.$store.state.isAuth?r("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("v-card",{staticClass:"elevation-3"},[0!==e.servers.length?r("v-toolbar",{staticClass:"title small text-uppercase elevation-0",attrs:{dense:""}},[r("v-icon",{attrs:{small:""}},[e._v("account_circle")]),e._v("  "),r("span",{staticClass:"font-weight-light"},[e._v("Previously used servers")])],1):e._e(),0!==e.servers.length?r("v-card-text",[r("v-list",{attrs:{"two-line":""}},e._l(e.servers,function(t){return r("v-list-tile",{key:t.url,staticClass:"elevation-0 my-3",on:{click:function(r){return e.prevAccountClick(t.url)}}},[r("v-list-tile-content",[r("v-list-tile-title",[r("b",[e._v(e._s(t.name))])]),r("v-list-tile-sub-title",[e._v(e._s(t.url)+" "),r("small",[e._v("("+e._s(t.version)+")")])])],1),r("v-list-tile-action",[r("v-btn",{attrs:{color:"primary",fab:"",small:"",dark:""}},[r("v-icon",[e._v("arrow_right_alt")])],1)],1)],1)}),1)],1):e._e(),r("v-toolbar",{staticClass:"title small text-uppercase elevation-0",attrs:{dense:""}},[r("v-icon",{attrs:{small:""}},[e._v("group_add")]),e._v("  "),r("span",{staticClass:"font-weight-light"},[e._v("Sign in")])],1),r("v-card-text",[r("p",{staticClass:"pl-3"},[e._v("Login or register to a new server by inputting its url below:")]),r("v-list",{attrs:{"two-line":""}},[r("v-list-tile",[r("v-list-tile-content",[r("v-text-field",{staticStyle:{width:"90%"},attrs:{"xxx-prepend-inner-icon":"developer_board",hint:"server url",type:"url",name:"server",label:"server url",placeholder:"https://speckle.yourdomain.com"},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}})],1),r("v-list-tile-action",[r("v-btn",{attrs:{color:"black",fab:"",small:"",dark:"",type:"submit"},on:{click:function(t){return e.login()}}},[r("v-icon",[e._v("arrow_right_alt")])],1)],1)],1)],1)],1),r("v-card-actions"),r("v-alert",{attrs:{type:"warning",dismissible:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[e._v("\n            "+e._s(e.errorMessage)+"\n          ")])],1)],1):r("v-card",[r("v-card-text",[e._v("You are already logged in.")])],1)],1)],1)],1)},i=[],n=(r("28a5"),r("bc3a")),l=r.n(n),a={name:"SigninView",components:{},computed:{},watch:{},data:function(){return{server:null,errorMessage:null,showError:!1,servers:[]}},methods:{prevAccountClick:function(e){this.server=e,this.login()},login:function(){this.showError=!1;var e=null;try{e=new URL(this.server);new URL(window.location.href);localStorage.setItem("__tempServer",e.origin),window.open("".concat(e.origin,"/signin?redirectUrl=").concat(window.encodeURIComponent(location.origin+"/#/signin/callback")),"login screen","height=700,width=800")}catch(t){this.errorMessage=t.message,this.showError=!0}},checkExistingServers:function(){var e=this,t=localStorage.getItem("allSpeckleServers")?localStorage.getItem("allSpeckleServers").split(","):null;t.map(function(t){l.a.get(t).then(function(r){e.servers.push({url:t,name:r.data.serverName,version:r.data.version})}).catch(function(r){e.servers.push({url:t,name:"Server Unreachable",version:"n/a"})})})},checkRedirect:function(){}},activated:function(){this.checkExistingServers()},mounted:function(){this.checkExistingServers(),this.checkRedirect(),!0===this.$store.state.isAuth&&(this.appendInfoToUrl("server",{apiUrl:this.$store.state.server}),this.$router.push("/"))}},o=a,c=r("2877"),v=Object(c["a"])(o,s,i,!1,null,"1393c1fa",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0cb6c3.5783749b.js.map