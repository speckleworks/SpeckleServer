(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51c60435"],{"1cb2":function(t,e,s){"use strict";var a=s("43fc"),i=s.n(a);i.a},"27c8":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0===t.allResources.length?s("md-empty-state",{attrs:{"md-icon":"delete_outline","md-label":"","md-description":"By creating a project, you'll be able to group streams together and share them with a team."}},[t._v("\n    You do not have any deleted items.\n  ")]):s("div",{staticClass:"md-layout"},[s("md-card",{staticClass:"md-elevation-0 md-layout-item md-size-100"},[s("md-card-content",[s("h1",{staticClass:"md-display-2"},[t._v("Trash bin")]),s("p",[t._v("These are your deleted resources. You can restore them or delete them permanently. Take care, there's no undo button!")])])],1),s("md-card",{staticClass:"main-toolbar md-elevation-3"},[s("md-card-content",{staticClass:"md-layout md-alignment-center-space-between"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-field",{attrs:{"md-clearable":""}},[s("md-icon",[t._v("search")]),s("label",[t._v("search for resources by their name")]),s("md-input",{attrs:{spellcheck:"false"},on:{input:function(t){}},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1)],1)])],1),s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-100 md-medium-size-100"},[s("md-card",{staticClass:"md-elevation-0"},t._l(t.allResourcesFiltered,function(e){return s("md-card-content",{key:e._id,staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-5"},[s("md-avatar",{staticClass:"md-avatar-icon md-small",style:{background:e.streamId?"#448aff":"#E639B9"}},[t._v(t._s(e.name.substring(0,1).toUpperCase()))])],1),s("div",{staticClass:"md-layout-item"},[s("router-link",{attrs:{to:e.streamId?"/streams/"+e.streamId:"/projects/"+e._id}},[t._v(t._s(e.name))])],1),s("div",{staticClass:"md-layout-item md-caption"},[t._v(t._s(e.streamId?"stream":"project"))]),s("div",{staticClass:"md-layout-item md-caption"},[t._v("Last modified: "),s("strong",[s("timeago",{attrs:{datetime:e.updatedAt}})],1)]),s("div",{staticClass:"md-layout-item md-size-30 text-right"},[s("md-button",{staticClass:"md-accent md-icon-button",nativeOn:{click:function(s){t.deleteForever(e)}}},[s("md-icon",[t._v("delete_forever")])],1),s("md-button",{staticClass:"md-primary md-raised",nativeOn:{click:function(s){t.restore(e)}}},[t._v("\n                restore\n              ")])],1)])}))],1)])],1)],1)},i=[],r=(s("7f7f"),s("6762"),s("2fdb"),s("2909")),n=(s("55dd"),s("8f44")),c={name:"TrashView",components:{ProjectCard:n["a"]},computed:{projects:function(){return this.$store.state.projects.filter(function(t){return!0===t.deleted})},streams:function(){return this.$store.state.streams.filter(function(t){return!0===t.deleted})},allResources:function(){return Object(r["a"])(this.streams).concat(Object(r["a"])(this.projects)).sort(function(t,e){return new Date(e.updatedAt)-new Date(t.updatedAt)})},allResourcesFiltered:function(){var t=this;return""===this.filterText?this.allResources:this.allResources.filter(function(e){return e.name.toLowerCase().includes(t.filterText.toLowerCase())}).sort(function(t,e){return t.updatedAt>e.updatedAt})}},data:function(){return{filterText:""}},methods:{deleteForever:function(t){t.streamId?this.$store.dispatch("deleteStream",{streamId:t.streamId}):this.$store.dispatch("deleteProject",{_id:t._id})},restore:function(t){t.streamId?this.$store.dispatch("updateStream",{streamId:t.streamId,deleted:!1}):this.$store.dispatch("updateProject",{_id:t._id,deleted:!1})}},created:function(){}},d=c,o=(s("9db7"),s("2877")),l=Object(o["a"])(d,a,i,!1,null,"2ae251ba",null);l.options.__file="Trash.vue";e["default"]=l.exports},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"43fc":function(t,e,s){},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),r=s("4bf8"),n=s("79e5"),c=[].sort,d=[1,2,3];a(a.P+a.F*(n(function(){d.sort(void 0)})||!n(function(){d.sort(null)})||!s("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),i(t))}})},"5a38":function(t,e,s){},"8f44":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{class:{"stream-card":!0,selected:t.selected},attrs:{"md-with-hover":""}},[s("md-card-header",{on:{click:function(e){t.selected=!t.selected}}},[s("md-card-header-text",[s("router-link",{attrs:{to:"/projects/"+t.project._id}},[s("div",{staticClass:"md-title"},[t._v(t._s(t.project.name))]),s("div",{staticClass:"md-subhead md-small-hide",attrs:{stlye:"user-select:all;"}},[t._v(t._s(t.project._id))]),s("div",{staticClass:"md-caption md-small-hide",domProps:{innerHTML:t._s(t.compiledDescription)}})])],1)],1),s("md-card-content",[s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-10"},[s("md-icon",[t._v("access_time")])],1),s("div",{staticClass:"md-layout-item md-caption"},[s("strong",[s("timeago",{attrs:{datetime:t.project.updatedAt}})],1)]),s("div",{staticClass:"md-layout-item md-size-10"},[s("md-icon",[t._v("create")])],1),s("div",{staticClass:"md-layout-item md-caption"},[t._v("\n        "+t._s(t.createdAt)+"\n      ")]),s("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"10px 0px"}},[s("div",{staticClass:"md-layout md-alignment-center-left"},[s("div",{staticClass:"md-layout-item md-size-10"},[s("md-icon",[t._v("person")])],1),s("div",{staticClass:"md-layout-item xxxmd-size-10 md-caption"},[s("strong",[t._v(t._s(t.projectTeamMembers.length))]),t._v(" team members.\n          ")]),s("div",{staticClass:"md-layout-item md-size-10"},[s("md-icon",[t._v("import_export")])],1),s("div",{staticClass:"md-layout-item xxxmd-size-25 md-caption"},[s("strong",[t._v(t._s(t.project.streams.length))]),t._v(" streams.\n          ")])])]),s("div",{staticClass:"md-layout-item md-size-100 md-small-hide"},[s("md-chips",{staticClass:"stream-chips",attrs:{"md-placeholder":"add tags"},on:{input:t.updateTags},model:{value:t.project.tags,callback:function(e){t.$set(t.project,"tags",e)},expression:"project.tags"}})],1)])]),s("md-card-actions",[s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.isOwner,expression:"isOwner"}],staticClass:"md-accent",nativeOn:{click:function(e){return t.archiveProject(e)}}},[t._v("Archive")]),s("md-button",{staticClass:"md-raised-xxx",attrs:{to:"/projects/"+t.project._id}},[t._v("More...")])],1)],1)},i=[],r=s("f7fe"),n=s.n(r),c=(s("c36e"),s("13bb")),d=s.n(c),o=s("0e54"),l=s.n(o),m={name:"ProjectCard",props:{resource:Object},watch:{selected:function(){this.$emit("selected",this.project)}},computed:{project:function(){return this.resource},projectTeamMembers:function(){return d()(this.project.canRead,this.project.canWrite)},createdAt:function(){var t=new Date(this.project.createdAt);return t.toLocaleString("en",{year:"numeric",month:"long",day:"numeric"})},compiledDescription:function(){return l()(this.project.description.substring(0,400)+" ...",{sanitize:!0})},canEdit:function(){return!!this.isOwner||-1!==this.project.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.project.owner===this.$store.state.user._id}},data:function(){return{selected:!1}},methods:{archiveProject:function(){this.$store.dispatch("updateProject",{_id:this.project._id,deleted:!0})},updateTags:n()(function(t){this.$store.dispatch("updateProject",{_id:this.project._id,tags:this.project.tags})},1e3)},mounted:function(){var t=this;bus.$on("unselect-all",function(){t.selected=!1})}},u=m,p=(s("1cb2"),s("2877")),f=Object(p["a"])(u,a,i,!1,null,"d1eef9b4",null);f.options.__file="ProjectCard.vue";e["a"]=f.exports},"9db7":function(t,e,s){"use strict";var a=s("5a38"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-51c60435.c859d836.js.map