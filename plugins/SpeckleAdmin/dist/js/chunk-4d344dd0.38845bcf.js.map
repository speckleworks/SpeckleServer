{"version":3,"sources":["webpack:///./src/lambda/component/arupCompute.vue?e834","webpack:///src/lambda/component/arupCompute.vue","webpack:///./src/lambda/component/arupCompute.vue?e7ab","webpack:///./src/lambda/component/arupCompute.vue","webpack:///./src/lambda/component/arupCompute.vue?02b8"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","row","wrap","xs12","return-object","items","libraries","item-text","item-value","loading","length","label","on","input","selectLibrary","scopedSlots","_u","key","fn","_v","_s","item","name","staticClass","api","model","value","params","callback","$$v","$set","expression","functions","selectFunction","_e","selectedLibrary","selectedFunction","mt-0","pa-3","_l","sm6","md3","bottom","ref","_g","ma-0","pa-0","values","type","isInputByValue","append-icon","hint","persistent-hint","error-messages","isOptional","inputs","hasOwnProperty","click:append","$event","toggleInputSource","change","updateInput","description","$emit","staticRenderFns","arupComputevue_type_script_lang_js_","components","props","block","Object","data","computed","assign_default","valueData","pathData","token","$store","state","tokens","msal","clientId","methods","payload","_this","slice","axios_default","a","get","concat","baseURL","headers","Authorization","then","res","sort","x","y","toLowerCase","findIndex","outputPath","paramName","undefined","getLibraries","_getLibraries","asyncToGenerator","regeneratorRuntime","mark","_callee","rerun","_this2","_args","arguments","_context","prev","next","catch","err","console","log","response","status","commit","dispatch","stop","apply","created","component_arupComputevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_arupCompute_vue_vue_type_style_index_0_id_018bc5eb_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_arupCompute_vue_vue_type_style_index_0_id_018bc5eb_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-4d344dd0.38845bcf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"return-object\":\"\",\"items\":_vm.libraries,\"item-text\":\"name\",\"item-value\":\"api\",\"loading\":_vm.libraries.length === 0,\"label\":\"Select a library\"},on:{\"input\":_vm.selectLibrary},scopedSlots:_vm._u([{key:\"item\",fn:function(libraries){return [_c('div',[_vm._v(\"\\n          \"+_vm._s(libraries.item.name)+\"\\n          \"),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(\"\\n            \"+_vm._s(libraries.item.api)+\"\\n          \")])])]}}]),model:{value:(_vm.params.selectedLibrary),callback:function ($$v) {_vm.$set(_vm.params, \"selectedLibrary\", $$v)},expression:\"params.selectedLibrary\"}})],1),(_vm.params.selectedLibrary)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"return-object\":\"\",\"items\":_vm.functions,\"item-text\":\"name\",\"item-value\":\"api\",\"loading\":_vm.functions.length === 0,\"label\":\"Select a function\"},on:{\"input\":_vm.selectFunction},scopedSlots:_vm._u([{key:\"item\",fn:function(functions){return [_c('div',[_vm._v(\"\\n          \"+_vm._s(functions.item.name)+\"\\n          \"),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(\"\\n            \"+_vm._s(functions.item.api)+\"\\n          \")])])]}}],null,false,608326576),model:{value:(_vm.params.selectedFunction),callback:function ($$v) {_vm.$set(_vm.params, \"selectedFunction\", $$v)},expression:\"params.selectedFunction\"}})],1):_vm._e(),(_vm.params.selectedLibrary && _vm.params.selectedFunction && _vm.functions.length > 0)?_c('v-flex',{attrs:{\"mt-0\":\"\",\"xs12\":\"\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"\\n          Inputs\\n        \")])]),_c('v-divider'),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"pa-3\":\"\"}},_vm._l((_vm.params.selectedFunction.inputs),function(input){return _c('v-flex',{key:input.name,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({attrs:{\"ma-0\":\"\",\"pa-0\":\"\"}},on),[((input.values || input.type === 'System.Boolean') && _vm.isInputByValue(input.name))?_c('v-autocomplete',{attrs:{\"items\":input.values ? input.values : [true, false],\"label\":input.name,\"append-icon\":_vm.isInputByValue(input.name) ? 'edit' : 'input',\"hint\":_vm.isInputByValue(input.name) ? 'Input by value' : 'Input by object path',\"persistent-hint\":true,\"error-messages\":!input.isOptional && (!_vm.inputs.hasOwnProperty(input.name) || _vm.inputs[input.name] === null) ? ['Input required'] : ''},on:{\"click:append\":function($event){return _vm.toggleInputSource({name: input.name, value: $event})},\"change\":function($event){return _vm.updateInput({name: input.name, value: $event})}},model:{value:(_vm.inputs[input.name]),callback:function ($$v) {_vm.$set(_vm.inputs, input.name, $$v)},expression:\"inputs[input.name]\"}}):_c('v-text-field',{attrs:{\"label\":input.name,\"append-icon\":_vm.isInputByValue(input.name) ? 'edit' : 'input',\"hint\":_vm.isInputByValue(input.name) ? 'Input by value' : 'Input by object path',\"persistent-hint\":true,\"error-messages\":!input.isOptional && (!_vm.inputs.hasOwnProperty(input.name) || _vm.inputs[input.name] === null) ? 'Input required' : ''},on:{\"click:append\":function($event){return _vm.toggleInputSource({name: input.name, value: $event})},\"change\":function($event){return _vm.updateInput({name: input.name, value: $event})}},model:{value:(_vm.inputs[input.name]),callback:function ($$v) {_vm.$set(_vm.inputs, input.name, $$v)},expression:\"inputs[input.name]\"}})],1)]}}],null,true)},[_c('div',[_c('span',[_c('b',[_vm._v(\"Description:\")]),_vm._v(\" \"+_vm._s(input.description))]),_c('br'),_c('span',{staticClass:\"caption\"},[_c('b',[_vm._v(\"Type:\")]),_vm._v(\" \"+_vm._s(input.type))])])])],1)}),1),_c('v-divider'),_c('v-card-title',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"\\n          Output\\n        \")])]),_c('v-divider'),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Output path\",\"hint\":\"Object path to embed all results under\",\"persistent-hint\":true},on:{\"change\":function($event){return _vm.$emit('update-param', _vm.params)}},model:{value:(_vm.params.outputPath),callback:function ($$v) {_vm.$set(_vm.params, \"outputPath\", $$v)},expression:\"params.outputPath\"}})],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-layout row wrap>\r\n    <v-flex xs12>\r\n      <v-autocomplete\r\n        return-object\r\n        :items=\"libraries\"\r\n        item-text=\"name\"\r\n        item-value=\"api\"\r\n        v-model=\"params.selectedLibrary\"\r\n        v-on:input=\"selectLibrary\"\r\n        :loading=\"libraries.length === 0\"\r\n        label=\"Select a library\">\r\n        <template slot=\"item\" slot-scope=\"libraries\">\r\n          <div>\r\n            {{libraries.item.name}}\r\n            <br>\r\n            <span class=\"caption\">\r\n              {{libraries.item.api}}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </v-autocomplete>\r\n    </v-flex>\r\n\r\n    <v-flex xs12 v-if=\"params.selectedLibrary\">\r\n      <v-autocomplete\r\n        return-object\r\n        :items=\"functions\"\r\n        item-text=\"name\"\r\n        item-value=\"api\"\r\n        v-model=\"params.selectedFunction\"\r\n        v-on:input=\"selectFunction\"\r\n        :loading=\"functions.length === 0\"\r\n        label=\"Select a function\">\r\n        <template slot=\"item\" slot-scope=\"functions\">\r\n          <div>\r\n            {{functions.item.name}}\r\n            <br>\r\n            <span class=\"caption\">\r\n              {{functions.item.api}}\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </v-autocomplete>\r\n    </v-flex>\r\n\r\n    <v-flex mt-0 v-if=\"params.selectedLibrary && params.selectedFunction && functions.length > 0\" xs12>\r\n      <v-card>\r\n        <v-card-title>\r\n          <span class='font-weight-light'>\r\n            Inputs\r\n          </span>\r\n        </v-card-title>\r\n        <v-divider/>\r\n        <v-layout row wrap pa-3>\r\n          <v-flex xs12 sm6 md3 v-for='input in params.selectedFunction.inputs' :key='input.name'>\r\n            <v-tooltip bottom>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <div v-on=\"on\" ma-0 pa-0>\r\n                  <v-autocomplete\r\n                    v-if=\"(input.values || input.type === 'System.Boolean') && isInputByValue(input.name)\"\r\n                    :items=\"input.values ? input.values : [true, false]\"\r\n                    :label='input.name'\r\n                    v-model='inputs[input.name]'\r\n                    :append-icon=\"isInputByValue(input.name) ? 'edit' : 'input'\"\r\n                    :hint=\"isInputByValue(input.name) ? 'Input by value' : 'Input by object path'\"\r\n                    :persistent-hint=\"true\"\r\n                    :error-messages=\"!input.isOptional && (!inputs.hasOwnProperty(input.name) || inputs[input.name] === null) ? ['Input required'] : ''\"\r\n                    @click:append=\"toggleInputSource({name: input.name, value: $event})\"\r\n                    @change=\"updateInput({name: input.name, value: $event})\">\r\n                  </v-autocomplete> \r\n                  <v-text-field\r\n                    v-else\r\n                    :label='input.name'\r\n                    v-model='inputs[input.name]'\r\n                    :append-icon=\"isInputByValue(input.name) ? 'edit' : 'input'\"\r\n                    :hint=\"isInputByValue(input.name) ? 'Input by value' : 'Input by object path'\"\r\n                    :persistent-hint=\"true\"\r\n                    :error-messages=\"!input.isOptional && (!inputs.hasOwnProperty(input.name) || inputs[input.name] === null) ? 'Input required' : ''\"\r\n                    @click:append=\"toggleInputSource({name: input.name, value: $event})\"\r\n                    @change=\"updateInput({name: input.name, value: $event})\">\r\n                  </v-text-field>\r\n                </div>\r\n              </template>\r\n              <div>\r\n                <span><b>Description:</b> {{input.description}}</span>\r\n                <br>\r\n                <span class=\"caption\"><b>Type:</b> {{input.type}}</span>\r\n              </div>\r\n            </v-tooltip>\r\n          </v-flex>\r\n        </v-layout>\r\n        <v-divider/>\r\n        <v-card-title>\r\n          <span class='font-weight-light'>\r\n            Output\r\n          </span>\r\n        </v-card-title>\r\n        <v-divider/>\r\n        <v-flex xs12>\r\n          <v-text-field \r\n            label='Output path'\r\n            v-model='params.outputPath'\r\n            hint=\"Object path to embed all results under\"\r\n            :persistent-hint=\"true\"\r\n            @change=\"$emit('update-param', params)\">\r\n          </v-text-field>\r\n        </v-flex>\r\n      </v-card>\r\n    </v-flex>\r\n\r\n  </v-layout>\r\n</template>\r\n<script>\r\n\r\nimport Axios from 'axios'\r\nimport * as Msal from 'msal'\r\n\r\nexport default {\r\n  name: 'ArupCompute',\r\n  components: {\r\n  },\r\n  props: {\r\n    block: Object,\r\n    params: { },\r\n  },\r\n  data( ) {\r\n    return {\r\n      libraries: [ ],\r\n      functions: [ ],\r\n    }\r\n  },\r\n  computed: {\r\n    inputs () {\r\n      return Object.assign({ }, this.params.valueData, this.params.pathData)\r\n    },\r\n    token () {\r\n      return this.$store.state.tokens['msal|' + this.block.msal.clientId]\r\n    }\r\n  },\r\n  methods: {\r\n    selectLibrary ( payload ) {\r\n      this.functions.slice(0, this.functions.length)\r\n\r\n      Axios.get(`${payload.api}?flat=true`, {\r\n        baseURL: `https://compute.arup.digital/`,\r\n        headers: {\r\n          Authorization: 'Bearer ' + this.token\r\n        }\r\n      })\r\n      .then ( res =>{\r\n        this.functions = res.data\r\n        this.functions.sort((x, y) => (x.name.toLowerCase() > y.name.toLowerCase()) ? 1 : -1)\r\n\r\n        this.params.selectedLibrary = payload\r\n\r\n        if (this.params.selectedFunction)\r\n        {\r\n          if (this.functions.findIndex(x => x.api === this.params.selectedFunction.api) === -1)\r\n            this.params.selectedFunction = null\r\n        }\r\n\r\n        this.$emit('update-param', this.params)\r\n      })\r\n    },\r\n    selectFunction ( payload ) {\r\n      this.params.selectedFunction = payload\r\n\r\n      this.params.valueData = {}\r\n      this.params.pathData = {}\r\n      this.params.outputPath = ''\r\n\r\n      this.$emit('update-param', this.params)\r\n    },\r\n    isInputByValue ( paramName ) {\r\n      if (this.params.valueData)\r\n        if (this.params.valueData.hasOwnProperty(paramName))\r\n          return true\r\n\r\n      return false\r\n    },\r\n    toggleInputSource ( payload ) {\r\n      if (!this.params.pathData)\r\n        this.params.pathData = {}\r\n\r\n      if (!this.params.valueData)\r\n        this.params.valueData = {}\r\n        \r\n      if (this.isInputByValue(payload.name))\r\n      {\r\n        this.params.pathData[payload.name] = null\r\n        delete this.params.valueData[payload.name]\r\n      }\r\n      else\r\n      {\r\n        this.params.valueData[payload.name] = null\r\n        delete this.params.pathData[payload.name]\r\n      }\r\n\r\n      this.$emit('update-param', this.params)\r\n    },\r\n    updateInput ( payload ) {\r\n      if (payload.value === null || payload.value === '' || payload.value === undefined)\r\n        payload.value = null\r\n\r\n      if (!this.params.pathData)\r\n        this.params.pathData = {}\r\n\r\n      if (!this.params.valueData)\r\n        this.params.valueData = {}\r\n\r\n      if (this.isInputByValue(payload.name))\r\n        this.params.valueData[payload.name] = payload.value\r\n      else\r\n        this.params.pathData[payload.name] = payload.value\r\n        \r\n      this.$emit('update-param', this.params)\r\n    },\r\n    async getLibraries ( rerun = false ) {\r\n      Axios.get(`api`, {\r\n        baseURL: `https://compute.arup.digital/`,\r\n        headers: {\r\n          Authorization: 'Bearer ' + this.token\r\n        }\r\n      })\r\n      .then ( res =>{\r\n        this.libraries = res.data\r\n        this.libraries.sort((x, y) => (x.name.toLowerCase() > y.name.toLowerCase()) ? 1 : -1)\r\n        \r\n        if (this.params.selectedLibrary)\r\n          this.selectLibrary (this.params.selectedLibrary)\r\n      })\r\n      .catch (err => {\r\n        console.log(err)\r\n        if (err.response.status === 401 && !rerun)\r\n        {\r\n          this.$store.dispatch('authenticateBlocks', [ this.block ])\r\n          .then(res => {\r\n            this.getLibraries(true)\r\n          })\r\n        }\r\n        else\r\n        {\r\n          console.log('Unable to access ArupCompute')\r\n          this.$store.commit('DELETE_TOKEN', 'msal|' + this.block.msal.clientId)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getLibraries()\r\n  }\r\n}\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./arupCompute.vue?vue&type=template&id=018bc5eb&scoped=true&\"\nimport script from \"./arupCompute.vue?vue&type=script&lang=js&\"\nexport * from \"./arupCompute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./arupCompute.vue?vue&type=style&index=0&id=018bc5eb&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"018bc5eb\",\n  null\n  \n)\n\ncomponent.options.__file = \"arupCompute.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=style&index=0&id=018bc5eb&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arupCompute.vue?vue&type=style&index=0&id=018bc5eb&scoped=true&lang=scss&\""],"sourceRoot":""}